{% extends "base.html" %}
{% import "macros/statblock.html" as statblock %}

{% block content %}
<div class="row">
  <div class="col s12">
    <div class="row">
      {% for mob in session['monsters'] %}
      <div class="col s3">
        <div class="card amber lighten-5">
          <div class="card-image">
            <img src="{{mob['image']}}">
            <span class="card-title red darken-4">{{mob['name']}} [CR: {{mob['challenge_rating']}}]</span>
            <a class="btn btn-floating halfway-fab waves-effect waves-light red modal-trigger"
              href="#modal{{loop.index}}">
              <i class="material-icons">call_to_action</i>
            </a>
          </div>
          <div class="card-content">
            <ul>
              <li>HP: {{mob['hit_points']}}</li>
              <li>AC: {{mob['armor_class'][0]["value"]}}</li>
              <li>Size: {{mob['size']}}</li>
            </ul>
          </div>
        </div>
        <div id="modal{{loop.index}}" class="modal">
          <div class="stat-block modal-content">
            <hr class="orange-border" />
            {{ statblock.statblock(mob) }}
            <hr class="orange-border" />
          </div>
        </div>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}